# ece3301l-lab-1-getting-familiar-with-the-mplab-x-software-solved
**TO GET THIS SOLUTION VISIT:** [ECE3301L LAB 1-Getting Familiar with the MPLAB X software Solved](https://www.ankitcodinghub.com/product/ece3301l-lab-1-getting-familiar-with-the-mplab-x-software-solved/)


---

ğŸ“© **If you need this solution or have special requests:** **Email:** ankitcoding@gmail.com  
ğŸ“± **WhatsApp:** +1 419 877 7882  
ğŸ“„ **Get a quote instantly using this form:** [Ask Homework Questions](https://www.ankitcodinghub.com/services/ask-homework-questions/)

*We deliver fast, professional, and affordable academic help.*

---

<h2>Description</h2>



<div class="kk-star-ratings kksr-auto kksr-align-center kksr-valign-top" data-payload="{&quot;align&quot;:&quot;center&quot;,&quot;id&quot;:&quot;91500&quot;,&quot;slug&quot;:&quot;default&quot;,&quot;valign&quot;:&quot;top&quot;,&quot;ignore&quot;:&quot;&quot;,&quot;reference&quot;:&quot;auto&quot;,&quot;class&quot;:&quot;&quot;,&quot;count&quot;:&quot;0&quot;,&quot;legendonly&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;score&quot;:&quot;0&quot;,&quot;starsonly&quot;:&quot;&quot;,&quot;best&quot;:&quot;5&quot;,&quot;gap&quot;:&quot;4&quot;,&quot;greet&quot;:&quot;Rate this product&quot;,&quot;legend&quot;:&quot;0\/5 - (0 votes)&quot;,&quot;size&quot;:&quot;24&quot;,&quot;title&quot;:&quot;ECE3301L LAB 1-Getting Familiar with the MPLAB X software Solved&quot;,&quot;width&quot;:&quot;0&quot;,&quot;_legend&quot;:&quot;{score}\/{best} - ({count} {votes})&quot;,&quot;font_factor&quot;:&quot;1.25&quot;}">

<div class="kksr-stars">

<div class="kksr-stars-inactive">
            <div class="kksr-star" data-star="1" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="2" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="3" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="4" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="5" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
    </div>

<div class="kksr-stars-active" style="width: 0px;">
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
    </div>
</div>


<div class="kksr-legend" style="font-size: 19.2px;">
            <span class="kksr-muted">Rate this product</span>
    </div>
    </div>
<div class="page" title="Page 1">
<div class="layoutArea">
<div class="column">
LAB 1: Getting Familiar with the MPLAB X software

To perform the lab below, you need to download the spec of the processor that we are using in the lab. Go to the following link:

http://ww1.microchip.com/downloads/en/DeviceDoc/39689f.pdf

Download the datasheet and save it somewhere that you can easily access it (Desktop). Donâ€™t use the datasheet provided in your textbook because not all PIC18F microcontrollers have the same definitions.

Part 1) Running the tutorial

You need to get the exercise given on the Tutorial done (see attached â€˜MPLABX and PICKIT Tutorial.pdfâ€™). Build the circuit given to you on the â€˜LAB1_schematics.pdfâ€™ file and run the program. If your program runs properly, the four LEDs will blink at different rate depending on the voltage V_Var supplied by the potentiometer to the pin RA0. The lower the voltage, the faster the LEDs will blink. When the voltage is increased, the blinking will slow down. Check with the instructor when this part is completed.

Note: On the schematics, the dotted block is the development board that I am going to send to your team.

Part 2) Serial Port communications

This section deals with the use of the serial port on the PIC development board that I have provided. It has a UART-to-USB translator chip designed to connect a serial port to an USB port available on your laptop. To be able to access to that USB port, you must perform Step 4) of the syllabus.

To avoid repeating the steps taken in the tutorial to create a new project, we can use an older project to quickly duplicate it into a new one. Follow the steps below:

From the Lab1 Part1 project that you have done in the Tutorial, click the project name â€˜Labp1â€™ and right click the mouse. Make sure that the label â€˜Lab1p1â€™ is in bold mode. Move the cursor down to â€˜Copyâ€™ field and click on it.

</div>
</div>
</div>
<div class="page" title="Page 2">
<div class="layoutArea">
<div class="column">
We will need to create the second part of the Lab1. We will call the project Lab1p2. Change the name of the Project Name to Lab1p2 and the Project Location should be changed from Part1 to Part2. Hit â€˜Copyâ€™ when done.

</div>
</div>
</div>
<div class="page" title="Page 3">
<div class="layoutArea">
<div class="column">
After the project is copied, a new project will appear on the left side of the screen. Go and select that new project:

</div>
</div>
<div class="layoutArea">
<div class="column">
Right click the mouse and a new window will appear, Scroll down to â€˜Set as Main Projectâ€™ and click on it.

</div>
</div>
</div>
<div class="page" title="Page 4">
<div class="layoutArea">
<div class="column">
The new project will be set in Bold indicating that this is the main project. Any compilation and programming will be done based on that project. Expand that project name by clicking on the â€˜+â€™ sign. Then expand the â€˜+â€™ sign of the â€˜Source Fileâ€™:

Next, go down to the â€˜Lab1p1.câ€™ file under the â€˜Source Filesâ€™ and right click on it. Scroll down to â€˜Remove From Projectâ€™ and click on it. The â€˜Lab1p1â€™ should disappear.

</div>
</div>
</div>
<div class="page" title="Page 5">
<div class="layoutArea">
<div class="column">
Next, go to File&gt;New File like we did in the Tutorial by selecting â€˜Câ€™ option and C Source File. Hit â€˜Nextâ€™

</div>
</div>
<div class="layoutArea">
<div class="column">
Enter â€˜lab1p2â€™ in the â€˜File Nameâ€™ field and hit Finish:

</div>
</div>
</div>
<div class="page" title="Page 6">
<div class="layoutArea">
<div class="column">
Here is the new screen. Notice the name â€˜Lab1p2.câ€™ under the â€˜Source Filesâ€™.

</div>
</div>
<div class="layoutArea">
<div class="column">
Copy and paste the following code into the blank document:

</div>
</div>
<div class="layoutArea">
<div class="column">
#include #include #include #include #include

#pragma #pragma #pragma #pragma

</div>
<div class="column">
&lt;stdio.h&gt; &lt;stdlib.h&gt; &lt;xc.h&gt; &lt;math.h&gt; &lt;p18f4620.h&gt;

config OSC = INTIO67 config WDT = OFF config LVP = OFF config BOREN = OFF

</div>
</div>
<div class="layoutArea">
<div class="column">
void init_UART() {

OpenUSART (USART_TX_INT_OFF &amp; USART_RX_INT_OFF &amp; USART_ASYNCH_MODE &amp; USART_EIGHT_BIT &amp; USART_CONT_RX &amp; USART_BRGH_HIGH, 25);

OSCCON = 0x60;

}

void putch (char c) {

while (!TRMT);

TXREG = c; }

</div>
</div>
</div>
<div class="page" title="Page 7">
<div class="layoutArea">
<div class="column">
void main(void) {

char k;

float t;

init_UART();

while(1) {

t= 19.909;

printf (â€œ\r\n\nHello World! Floating Point Print with 1 decimal place t= %6.1fâ€,t); printf (â€œ\r\nHello World! Floating Point print with 2 decimal places t= %6.2fâ€,t);

} }

Save the file.

Before we compile the new piece of software, we need to setup a needed compilation option. Select the â€˜Lab1p2â€™ project and right click on it. Scroll all the way down to Properties and click on it.

</div>
</div>
</div>
<div class="page" title="Page 8">
<div class="layoutArea">
<div class="column">
A new screen will appear.

</div>
</div>
<div class="layoutArea">
<div class="column">
Select â€˜XC8 linkerâ€™ and then go the right side and scroll until you see the selection â€˜Link in Peripheral Libraryâ€™. Check on that option. Hit OK afterwards.

</div>
</div>
<div class="layoutArea">
<div class="column">
We are now ready to compile.

Compile the above program and run it. This program does not have any error and it should be compiled cleanly. Program the prototype board with the new software. The LED marked D5 on

</div>
</div>
</div>
<div class="page" title="Page 9">
<div class="layoutArea">
<div class="column">
the schematics should be blinking continuously to indicate that there is a communications with the serial port.

If the program is run with the development board, run the â€˜TeraTermâ€™ software (see Syllabus) with the serial port detected (choose the one with USB Serial Port) and go to the â€˜Setupâ€™ tab and under â€˜Serial Portâ€™ make sure that you have the following:

</div>
</div>
<div class="layoutArea">
<div class="column">
#include #include #include #include #include

#pragma #pragma #pragma #pragma

</div>
<div class="column">
&lt;stdio.h&gt; &lt;stdlib.h&gt; &lt;xc.h&gt; &lt;math.h&gt; &lt;p18f4620.h&gt;

config OSC = INTIO67 config WDT = OFF config LVP = OFF config BOREN = OFF

</div>
</div>
<div class="layoutArea">
<div class="column">
Baud rate: Data:

Parity:

Stop:

Flow control:

</div>
<div class="column">
9600 8 bit none 1 bit none

</div>
</div>
<div class="layoutArea">
<div class="column">
If you have properly setup the port, you should see a continuous stream of data displayed on the screen when you run the program above. This indicates that you have established a good serial connection.

Part 3) Testing A/D channels

Repeat the steps in part 2 to create a new part 3. Make sure to have the sub-folder â€˜Part3â€™ under the â€˜Lab1â€™ sub-folderâ€™.

This program will make sure that the A/D channels are working. Compile the program and run it.

When the program is running, turn the potentiometer and make sure that voltage displayed on the channels AN0, AN1, AN2, and AN4 should be the same and does vary as the potentiometer is changed. In addition, make sure that the voltage on AN3 shows a constant value of about 4.096V.

</div>
</div>
<div class="layoutArea">
<div class="column">
void init_UART() {

OpenUSART (USART_TX_INT_OFF &amp; USART_RX_INT_OFF &amp; USART_ASYNCH_MODE &amp; USART_EIGHT_BIT &amp; USART_CONT_RX &amp; USART_BRGH_HIGH, 25);

</div>
</div>
<div class="layoutArea">
<div class="column">
}

</div>
</div>
<div class="layoutArea">
<div class="column">
OSCCON = 0x60;

</div>
</div>
</div>
<div class="page" title="Page 10">
<div class="layoutArea">
<div class="column">
void putch (char c) {

while (!TRMT);

TXREG = c; }

// Prototype Area

void Init_ADC(void);

unsigned int Get_Full_ADC(void); float Read_Ch_Volt(char);

</div>
</div>
<div class="layoutArea">
<div class="column">
void Init_ADC(void) {

ADCON0=0x01; ADCON1=0x0a; ADCON2=0xA9;

</div>
<div class="column">
// select channel AN0, and turn on the ADDC subsystem

// set pins 2,3,4,5 &amp; 7 as analog signal, VDD-VSS as ref voltage // Set the bit conversion time (TAD) and acquisition time

</div>
</div>
<div class="layoutArea">
<div class="column">
}

</div>
</div>
<div class="layoutArea">
<div class="column">
unsigned int Get_Full_ADC(void) {

int result;

</div>
</div>
<div class="layoutArea">
<div class="column">
// Start Conversion

// Wait for conversion to be completed (DONE=0)

ADCON0 = ch_num * 0x4 + 1;

int ADC_Result = Get_Full_ADC(); float Volt = ADC_Result / 1024.0 * 5.0; return (Volt);

</div>
</div>
<div class="layoutArea">
<div class="column">
ADCON0bits.GO=1;

while(ADCON0bits.DONE==1);

result = (ADRESH * 0x100) + ADRESL; // Combine result of upper byte and lower byte into return result; // return the most significant 8- bits of the result.

</div>
</div>
<div class="layoutArea">
<div class="column">
}

float Read_Ch_Volt(char ch_num) {

}

void main(void) {

float Volt; init_UART(); Init_ADC(); while(1)

{

Volt = Read_Ch_Volt( 0);

printf (â€œVolt at AN0 is %f\r\nâ€, Volt);

Volt = Read_Ch_Volt( 1);

printf (â€œVolt at AN1 is %f\r\nâ€, Volt);

Volt = Read_Ch_Volt( 2);

printf (â€œVolt at AN2 is %f\r\nâ€, Volt);

</div>
</div>
</div>
<div class="page" title="Page 11">
<div class="layoutArea">
<div class="column">
Volt = Read_Ch_Volt( 4);

printf (â€œVolt at AN4 is %f\r\n\nâ€, Volt);

Volt = Read_Ch_Volt( 3);

printf (â€œReference voltage at AN3 is %f\r\n\nâ€, Volt); }

}

</div>
</div>
</div>
